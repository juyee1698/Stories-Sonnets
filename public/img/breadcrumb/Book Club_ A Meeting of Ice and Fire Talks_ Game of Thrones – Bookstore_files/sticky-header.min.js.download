!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(e){function i(e,n){var o=["width","height","font-size","margin","padding","marginTop","marginLeft","marginRight","marginBottom","paddingTop","paddingLeft","paddingRight","paddingBottom"];return"number"==typeof e&&-1!==t.inArray(n,o)&&(e+="px"),e}function a(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function r(e){return e.replace(/rgba\((.*?)\)/g,(function(e){var t=e.match(/([\d]+)/g);return"rgba("+t[0]+", "+t[1]+", "+t[2]+", 0)"})).replace(/rgb\((.*?)\)/g,(function(e){var t=e.match(/([\d]+)/g);return"rgba("+t[0]+", "+t[1]+", "+t[2]+", 0)"}))}function s(e,n){t(e).addClass(n instanceof Array?n.join(" "):n)}function l(e,n){t(e).removeClass(n instanceof Array?n.join(" "):n)}function c(e,n){var o=y.hasOwnProperty("animation")?y.animation:y.sticky,i=p.getAnimationSceneIdsByTagName(e),a=[];return t.each(i,(function(e,t){var n=p.getAnimationSceneById(t),i=n.data.startTime,r=n.data.endTime,s=w.duration()/w.timeScale(),l=o.progress()*s,c=0;l>=s?c=1:l>i&&l<r&&(c=(l-i)/(n.duration()/n.timeScale())),a.push({animationId:t,progress:c})})),n?a.pop():a}function u(e){t.each(c(e),(function(e,t){var n=p.getAnimationSceneById(t.animationId),o=n.parent;n.parent=gsap.timeline({paused:!0}),n.progress(0).progress(t.progress),n.parent=o}))}function d(){var e=[],n=["class","style"];return t.each(arguments,(function(o,i){(i instanceof t||"string"==typeof i)&&t(i).each((function(o,i){var a={$el:t(i)};t.each(n,(function(e,t){a[t]=a.$el.attr(t)})),e.push(a)}))})),function(){t.each(e,(function(e,o){t.each(n,(function(e,t){o.$el.attr(t,o[t])}))}))}}function g(e){for(var n in p=this,m=t.extend(!0,{type:"standard",containerElement:".site-header",logoElement:".logo-image",triggerOffset:0,offset:0,animationOffset:0,spacer:!0,animateProgressWithScroll:!0,animateDuration:null,tweenChanges:!1,classes:{name:"site-header",prefix:"sticky",init:"initialized",fixed:"fixed",absolute:"absolute",spacer:"spacer",active:"active"},autohide:{animationType:"slide",duration:.3,ease:"sine.inOut",threshold:100},animateScenes:{},alternateLogos:{},supportedOn:{desktop:!0,tablet:!0,mobile:!0},other:{menuSkin:null},debugMode:!1},e),h.classes){var o=m.classes[n];h.classes[n]=p.className(o)}t.each(m.animateScenes,(function(e,n){"object"==typeof n&&("string"==typeof(n=t.extend(!0,{name:"",selector:"self",props:[],duration:.3,position:"-=0.20",css:{},data:{type:"props",tags:[]}},n)).tags&&(n.tags=n.tags.split(",")),h.animateScenes[e]=n)})),p.init()}let p,f=t(n),m={},h={enabled:!0,controller:null,$container:null,$logoContainer:null,classes:{init:null,fixed:null,absolute:null,spacer:null,active:null,fullyActive:null},animateScenes:{},disabledAnimationScenes:{},alternateLogos:{},deviceViewports:{desktop:{max:null,min:992},tablet:{max:991,min:768},mobile:{max:767,min:0}},stickyOptions:{height:0,stickyHeight:0}},v={},y={},S={},w=null,k={version:3,timeline:function(e){return 3===k.version?gsap.timeline(e):new TimelineMax(e)},to:function(e,t,n){return 3===k.version?(n.duration=t,gsap.to(e,n)):TweenMax.to(e,t,n)},set:function(e,t){return 3===k.version?gsap.set(e,t):TweenMax.set(e,t)},killTweensOf:function(e,t){3===k.version?gsap.killTweensOf(e,t):TweenMax.killTweensOf(e,t)},emptyAnimationFrame:function(e,n){return"number"==typeof e&&(e={duration:e}),e=t.extend({duration:0,delay:0},e),k.to({x:0},e.duration,{x:100,delay:e.delay,ease:"linear",onStart:function(){n.call(this,[p])}})},cleanTimelineQueue:function(e){if(e&&e instanceof gsap.core.Timeline){var n=e.getChildren(!1);t.each(n,(function(t,n){0===n.progress()&&e.remove(n.kill())}))}}},A=function(){S.scroll.position=f.scrollTop(),"UP"===S.scroll.scrollDirection?S.scroll.position<S.scroll.lastPosition?(0===S.scroll.scrollPositionRelative?S.scroll.scrollPositionRelative=1:S.scroll.scrollPositionRelative+=S.scroll.lastPosition-S.scroll.position,S.scroll.scrollPositionRelative>m.autohide.threshold&&(S.scroll.firedUp||(S.scroll.firedUp=!0,S.scroll.firedDown=!1,p.show())),S.scroll.lastPosition=S.scroll.position):S.scroll.position>S.scroll.lastPosition&&(S.scroll.scrollDirection="DOWN",S.scroll.scrollPositionRelative=0):S.scroll.position>S.scroll.lastPosition?(0===S.scroll.scrollPositionRelative?S.scroll.scrollPositionRelative=1:S.scroll.scrollPositionRelative+=S.scroll.position-S.scroll.lastPosition,S.scroll.scrollPositionRelative>m.autohide.threshold&&(S.scroll.firedDown||(S.scroll.firedUp=!1,S.scroll.firedDown=!0,p.hide())),S.scroll.lastPosition=S.scroll.position):S.scroll.position<S.scroll.lastPosition&&(S.scroll.scrollDirection="UP",S.scroll.scrollPositionRelative=0)},b=t.debounce(200,(function(){S.scroll.scrollPositionRelative=0}));return g.prototype={init:function(){v.hasOwnProperty("$container")&&v.$container.hasClass(h.classes.init)||(v.$container=t(m.containerElement),v.$logoContainer=v.$container.find(m.logoElement),h.controller=new ScrollMagic.Controller,p.generateAlternateLogos(),p.setPosition("absolute"),w=p.createAnimationTimeline(),p.updateHeight(),p.generateSpacer(),p.isAutohide()?p.initAutohide():p.initStandard(),p.clearProps(),p.registerEvents(),p.setupMenuSkinsOnStickyMode(),p.checkSupportForDevice(),v.$container.addClass(h.classes.init))},constructor:g.prototype.constructor,initStandard:function(){var e=Kalium.Hooks.applyFilters("StickyHeader.stickyScene.args",{offset:1}),t=Kalium.Hooks.applyFilters("StickyHeader.animationScene.args",{offset:m.animationOffset});y.sticky=p.addScene(e,"Sticky Scene",0),y.animation=p.addScene(t,"Animation Scene",160),y.animation.setTween(w.paused(!1)),setTimeout((function(){y.animation.tweenChanges(m.tweenChanges)}),w.duration()/w.timeScale()*1e3),y.sticky.on("start",(function(e){"BEFORE"===e.state?(v.$container.css("top",""),p.setPosition("absolute"),p.setActive(!1)):(v.$container.css("top",p.getTriggerHookOffset()-p.getOffset()),p.setPosition("fixed"),p.setActive(!0))}))},initAutohide:function(){S.scroll={position:0,lastPosition:0,scrollPositionRelative:0,scrollDirection:"DOWN",firedUp:!1,firedDown:!1,isContainerHidden:!1};var e={offset:p.getHeight()};y.sticky=p.addScene(e,"Sticky Scene"),y.sticky.on("start",(function(e){if("BEFORE"===e.state)window.removeEventListener("scroll",A),window.removeEventListener("scroll",b),p.setActive(!1);else{var t=!!o.hasSupport&&{passive:!0};S.scroll.isContainerHidden=!0,S.scroll.firedUp=!1,S.scroll.firedDown=!0,p.hideSticky(),window.addEventListener("scroll",A,t),window.addEventListener("scroll",b,t),p.setActive(!0)}}));var t={};m.animateProgressWithScroll||(t.animationOffset=0,t.duration=p.getStickyHeight()),y.stickyReveal=p.addScene(t,"Sticky Reveal Scene",180),m.animateProgressWithScroll?(y.stickyReveal.on("enter",(function(e){"REVERSE"===e.scrollDirection&&p.show()})),y.stickyReveal.on("progress",(function(e){S.scroll.isContainerHidden&&w.progress(e.progress),0===e.progress&&S.scroll.isContainerHidden&&(S.scroll.isContainerHidden=!1,k.killTweensOf(v.$container,{top:!0}),v.$container.css("top",""),p.setPosition("absolute"))}))):(y.stickyReveal.on("enter",(function(e){"REVERSE"===e.scrollDirection&&k.to(w,w.duration(),{progress:0})})),y.stickyReveal.on("progress",(function(e){0===e.progress&&(S.scroll.isContainerHidden=!1,k.killTweensOf(v.$container,{top:!0}),v.$container.css("top",""),p.setPosition("absolute"))})))},isAutohide:function(){return"autohide"===m.type},registerAlternateLogo:function(e,n,o,i){if(o){var a=t(o),r=p.className("logo",n),s=+a.attr("width"),l=+a.attr("height");if("number"==typeof i){var c=+i,u=c/s;i={width:s=c,height:l=parseInt(l*u,10)}}a.addClass("alternate-logo").appendTo(v.$logoContainer);var d={name:n,className:r,$el:a,originalWidth:+a.attr("width"),originalHeight:+a.attr("height"),css:i,isActive:!1};if(h.alternateLogos[e]=Kalium.Hooks.applyFilters("StickyHeader.registerAlternateLogo",d),i&&Object.keys(i).length>0){var g=p.generateCSS(i,r,m.containerElement);p.insertCSS(g,"sticky-header-alternate-logo-"+n)}}},generateAlternateLogos:function(){var e=v.$logoContainer.find(".main-logo");h.alternateLogos.default={name:"default",className:"",$el:e,originalWidth:+e.attr("width"),originalHeight:+e.attr("height"),css:{},isActive:!0},0!==Object.keys(m.alternateLogos).length&&t.each(m.alternateLogos,(function(e,n){n=t.extend({name:null,image:null,css:{}},n);var o=t(n.image);p.registerAlternateLogo(e,n.name,o,n.css)}))},generateSpacer:function(){v.$spacer&&(v.$spacer.remove(),v.$spacer=null),m.spacer&&(v.$spacer=t("<"+v.$container.prop("tagName").toLowerCase()+">",{class:h.classes.spacer}),v.$container.after(v.$spacer),v.$spacer.height(v.$container.outerHeight(!0)))},className:function(){var e=[],n="-";return t.each(arguments,(function(t,n){"string"==typeof n&&e.push(n)})),[m.classes.name,"",m.classes.prefix,e.join(n)].join(n)},setPosition:function(e){var t=h.classes.absolute,n=h.classes.fixed;v.$container.removeClass([t,n].join(" ")),"absolute"===e?v.$container.addClass(t):"fixed"===e&&v.$container.addClass(n)},setActive:function(e){v.$container[!1===e?"removeClass":"addClass"](h.classes.active)},setFullyActiveState:function(e){v.$container[!1===e?"removeClass":"addClass"](h.classes.fullyActive)},getTriggerHookOffset:function(){var e=m.triggerOffset,n=t("#wpadminbar").outerHeight();n&&t(window).width()>=600&&(e+=n);var o=t(".page-border .top-border").outerHeight();return o&&(e+=o),Kalium.Hooks.applyFilters("StickyHeader.triggerHookOffset",e)},getOffset:function(){var e=0,n=m.offset instanceof Array?m.offset:[m.offset];return t.each(n,(function(t,n){if("number"==typeof n)e+=n;else if("string"==typeof n){var o=v.$container.find(n).outerHeight();"number"==typeof o&&(e+=o)}})),e},getHeight:function(){return h.stickyOptions.height},getStickyHeight:function(){return h.stickyOptions.stickyHeight},updateHeight:function(){var e=w.progress();w.progress(0,!0),h.stickyOptions.height=v.$container.outerHeight(),w.progress(1,!0),h.stickyOptions.stickyHeight=v.$container.outerHeight(),w.progress(e)},show:function(e){e="boolean"!=typeof e||e;var t={ease:m.autohide.ease};t.css={top:p.getTriggerHookOffset()-p.getOffset(),autoAlpha:1,clearProps:["visibility","opacity"].join(",")},e?k.to(v.$container,m.autohide.duration,t):k.set(v.$container,t)},hide:function(e){e="boolean"!=typeof e||e;var t={ease:m.autohide.ease,css:{top:-p.getStickyHeight()}};switch(m.autohide.animationType){case"fade":t.css={top:p.getTriggerHookOffset(),autoAlpha:0};break;case"fade-slide-top":t.css={top:p.getTriggerHookOffset()-30,autoAlpha:0};break;case"fade-slide-bottom":t.css={top:p.getTriggerHookOffset()+30,autoAlpha:0};break;default:t.css={top:-p.getStickyHeight()}}e?k.to(v.$container,m.autohide.duration,t):k.set(v.$container,t)},hideSticky:function(){p.setPosition("fixed"),w.progress(1),p.hide(!1)},addScene:function(e,n,o){var i={triggerHook:p.getTriggerHookOffset()/f.height(),offset:0};e=e?t.extend(!0,i,e):i;var a=new ScrollMagic.Scene(e);return a.updateOffset=function(){var t=e.offset;t+=p.getOffset(),t+=v.$container.offset().top-p.getTriggerHookOffset(),"fixed"===v.$container.css("position")&&(t-=f.scrollTop()),a.offset(t)},a.updateOffset(),a.addTo(h.controller),m.animateProgressWithScroll&&a.duration(p.getHeight()),e.hasOwnProperty("duration")&&a.duration(e.duration),m.debugMode&&a.addIndicators&&a.addIndicators({name:n,indent:o||0}),a},createAnimationTimeline:function(){var e=new k.timeline({ease:"sine.inOut",paused:!0,smoothChildTiming:!0,data:{name:"kalium-animation-timeline"},onUpdate:function(){0!==this.progress()&&!1!==S.isFullyActive?(p.setFullyActiveState(!1),S.isFullyActive=!1):1===this.progress()&&(p.setFullyActiveState(!0),S.isFullyActive=!0)}}),n=[];return t.each(h.animateScenes,(function(e,t){var o=p.getActiveStickyAnimationClassName(e),i=p.generateCSS(t.css,o);i&&n.push(i)})),p.insertCSS(n,"sticky-header-css"),t.each(h.animateScenes,(function(n,o){var i;i="self"===o.selector?v.$container:"logo"===o.selector?v.$logoContainer:v.$container.find(o.selector);var a=o.props.join(","),r=p.getActiveStickyAnimationClassName(n);i.addClass(r);var c={};t.each(o.props,(function(e,t){c[t]=i.css(t)})),i.removeClass(r);var u,d={css:c,overwrite:!1,onComplete:function(){var e=2===k.version?this.target:this.targets();k.set(e,{clearProps:a}),s(e,r)},onReverseComplete:function(){var e=2===k.version?this.target:this.targets();k.set(e,{clearProps:a}),l(e,r)}};if("props"===o.data.type)u=k.to(i,o.duration,d);else if("alternate-logo"===o.data.type){var g="default",f=o.data.alternateLogo;u=p.generateLogoSwitchTween({from:g,to:f,logoResizeVars:d,duration:o.duration})}u&&(u.data={tweenId:Math.random().toString(36).substr(2,9),animationId:n,animationName:o.name,animationType:o.data.type,tags:o.data.tags},e.add(u,o.position),u.data.startTime=u.startTime(),u.data.endTime=u.endTime())})),!1===m.animateProgressWithScroll&&"number"==typeof m.animateDuration&&e.totalDuration(m.animateDuration),e},enableAnimationScene:function(e,n){var o=!1;return n=t.extend({progressAnimateDuration:.3},n),"string"==typeof e&&(e=e.split(",")),t.each(e,(function(e,t){if(h.disabledAnimationScenes.hasOwnProperty(t)){var i=h.disabledAnimationScenes[t];w.add(i,i.data.startTime);var a=y.hasOwnProperty("animation")?y.animation.progress():y.sticky.progress(),r;i.progress()!==a&&(0===n.progressAnimateDuration?k.set(i,{progress:a}):k.to(i,n.progressAnimateDuration,{progress:a,ease:"sine.out"})),delete h.disabledAnimationScenes[t],o=!0}})),o},disableAnimationScene:function(e,n){var o=!1;return"string"==typeof e&&(e=e.split(",")),n=t.extend({},n),t.each(w.getChildren(!1),(function(n,i){i.data&&i.data.hasOwnProperty("animationId")&&-1!==t.inArray(i.data.animationId,e)&&(w.remove(i),h.disabledAnimationScenes[i.data.animationId]=i,o=!0)})),o},getAnimationScenes:function(){var e=w.getChildren(!1);for(var t in h.disabledAnimationScenes)e.push(h.disabledAnimationScenes[t]);return e.sort((function(e,t){return e.data.startTime>t.data.startTime?-1:1}))},getAnimationSceneById:function(e){var n=null;return t.each(p.getAnimationScenes(),(function(t,o){if(e===o.data.animationId)return n=o,!1})),n},getAnimationSceneIdsByTagName:function(e,n){var o=[];if(e instanceof Array)return t.each(e,(function(e,t){o=o.concat(p.getAnimationSceneIdsByTagName(t))})),o;var i=p.getAnimationScenes();return t.each(i,(function(n,i){-1!==t.inArray(e,i.data.tags)&&o.push(i.data.animationId)})),n?o.pop():o},toggleAnimationScenesByTagName:function(e,n,o){var i=p.getAnimationSceneIdsByTagName(e),a=!1;return t.each(i,(function(e,t){"disable"===n?p.disableAnimationScene(t,o)&&(a=!0):p.enableAnimationScene(t,o)&&(a=!0)})),a},enableAnimationScenesByTagName:function(e,t){return p.toggleAnimationScenesByTagName(e,"enable",{progressAnimateDuration:t})},disableAnimationScenesByTagName:function(e){return p.toggleAnimationScenesByTagName(e,"disable")},getActiveStickyAnimationClassName:function(e){return h.animateScenes.hasOwnProperty(e)?p.className(m.classes.active,h.animateScenes[e].name):""},registerEvents:function(){if(!S.hasOwnProperty("resizeEvent")){var e=!1;S.resizeEvent=t.debounce(500,(function(){e?p.resize():e=!0}))}t(window).on("resize",S.resizeEvent),S.hasOwnProperty("checkSupportForDeviceEvent")||(S.checkSupportForDeviceEvent=t.debounce(150,p.checkSupportForDevice)),t(window).on("resize",S.checkSupportForDeviceEvent)},clearProps:function(e,n){t.each(h.animateScenes,(function(t,n){var o;o="self"===n.selector?v.$container:"logo"===n.selector?v.$logoContainer:v.$container.find(n.selector);var i,a={clearProps:n.props.join(",")};k.set(o,{css:a}),e&&l(o,p.getActiveStickyAnimationClassName(t))})),n&&t.each(h.alternateLogos,(function(e,t){k.set(t.$el,{css:{clearProps:"all"}}),t.className&&v.$logoContainer.removeClass(t.className)})),p.toggleMenuSkin("remove")},enabled:function(e){return void 0!==e&&(e=!!e,h.enabled=e,e?(v.$container.addClass(h.classes.init),p.resize(),h.controller.enabled(!0)):(h.controller.enabled(!1),w&&(w.progress(0).kill(),w=null),p.clearProps(!0,!0),v.$spacer&&(v.$spacer.remove(),v.$spacer=null),t.each(h.classes,(function(e,t){v.$container.removeClass(t)})),v.$container.css("top",""))),h.enabled},resize:function(){h.enabled&&(h.controller.enabled(!1),v.$container.css("top",""),t.each(y,(function(e,t){t.triggerHook(p.getTriggerHookOffset()/f.height()),t.updateOffset()})),p.clearProps(!0,!0),w&&w.kill(),w=p.createAnimationTimeline(),p.isAutohide()?(w.progress(y.sticky.progress()),p.generateSpacer()):(y.animation.removeTween(!0),w.progress(y.animation.progress()),p.updateHeight(),p.generateSpacer(),y.animation.setTween(w.paused(!1))),y.sticky.trigger("start",{state:y.sticky.state()}),h.controller.enabled(!0),h.controller.update(!0))},checkSupportForDevice:function(){t.each(m.supportedOn,(function(e,n){if(n=!!n,h.deviceViewports.hasOwnProperty(e)){var o=t.extend({min:0,max:0},h.deviceViewports[e]),i=null===o.min||f.width()>=o.min,a=null===o.max||f.width()<=o.max;i&&a&&h.enabled!==n&&p.enabled(n)}}))},generateCSS:function(e,n,o){var r=[],s={default:[]};return"object"==typeof e&&t.each(e,(function(e,n){if("object"!=typeof n){var o=e,r=n;e="default",(n={})[o]=r}t.each(n,(function(t,n){s.hasOwnProperty(e)||(s[e]=[]),s[e].push([a(t),i(n,t)])}))})),t.each(s,(function(e,i){var a=[];i.length&&("default"!==e&&(a.push(e),a.push("{")),a.push((o?o+" ":"")+"."+n),a.push("{"),t.each(i,(function(e,t){a.push(t.join(":")+";")})),a.push("}"),"default"!==e&&a.push("}"),r.push(a.join("\n")))})),r.join("\n")},insertCSS:function(e,n){n=n||"sticky-header-css",e instanceof Array&&(e=e.join("\n"));var o=t("#"+n);!o.length&&e&&(o=t("<style>",{id:n}).appendTo("body")),e?o.html(e):o.length&&o.remove()},getCurrentLogo:function(e){var t="default";return S.hasOwnProperty("currentLogo")&&(t=S.currentLogo),e?h.alternateLogos.hasOwnProperty(t)?h.alternateLogos[t]:null:t},generateLogoSwitchTween:function(e){(e=t.extend({from:"",to:"",duration:.3,logoResizeVars:null},e)).from||(e.from=p.getCurrentLogo()),e.logoResizeVars||(e.logoResizeVars={css:{}});var n=k.timeline(),o=h.alternateLogos[e.from],i=h.alternateLogos[e.to],a=o.$el,r=i.$el,l=function(){t.each(h.alternateLogos,(function(e,t){v.$logoContainer.removeClass(t.className)}))};t.each(h.alternateLogos,(function(e,t){t!==o&&t!==i&&0<+t.$el.css("opacity")&&(a=a.add(t.$el))}));var c=.3*e.duration,u=.4*e.duration,d=.3*e.duration,g=0,f,m,y="-=0",w="-="+c/4,A="-="+u/4;if(!e.logoResizeVars.css.hasOwnProperty("width")||!e.logoResizeVars.css.hasOwnProperty("height")){var b=v.$logoContainer.attr("style");l(),v.$logoContainer.removeAttr("style"),v.$logoContainer.addClass(i.className);var C=v.$logoContainer.outerWidth(),T=v.$logoContainer.outerHeight();e.logoResizeVars.css=t.extend(e.logoResizeVars.css,{width:C,height:T}),l(),v.$logoContainer.addClass(o.className).attr("style",b)}var $={css:{autoAlpha:0}};n.add(k.to(a,c,$),"-=0");var O=Object.keys(e.logoResizeVars.css);O.length&&n.add(k.to(v.$logoContainer,u,e.logoResizeVars),w);var H={css:{autoAlpha:1}};n.add(k.to(r,d,H),A),n.duration(e.duration);var P=function(t){S.currentLogo=t?e.from:e.to,o.isActive=!!t,i.isActive=!t,l(),k.set(v.$logoContainer,{css:{clearProps:O.join(",")}}),s(v.$logoContainer,t?o.className:i.className)};return n.eventCallback("onComplete",(function(){P()})),n.eventCallback("onReverseComplete",(function(){P(!0)})),n},switchLogo:function(e,t){t="number"==typeof t?t:.3,S.hasOwnProperty("logoSwitchTween")||(S.logoSwitchTween=k.timeline()),k.cleanTimelineQueue(S.logoSwitchTween),S.logoSwitchTween.add(k.emptyAnimationFrame(t,(function(){var t=k.timeline();t.call((function(){p.disableAnimationScenesByTagName(["logo-switch","logo-resize"])})),t.add(p.generateLogoSwitchTween({to:e,duration:this.duration()}))})))},revertLogoSwitch:function(e){if(e="number"==typeof e?e:.3,S.hasOwnProperty("logoSwitchTween")){k.cleanTimelineQueue(S.logoSwitchTween);var n=.15;S.logoSwitchTween.add(k.emptyAnimationFrame(e+.15,(function(){var e=v.$logoContainer,n=k.timeline(),o,i=this.duration()-.15,a=.3*i,r=.4*i,s=.3*i;n.add(k.to(e,a,{css:{autoAlpha:0}})),n.call((function(){var n=d(v.$logoContainer,v.$logoContainer.children());t.each(h.alternateLogos,(function(t,n){e.removeClass(n.className),n.$el.attr("style","")})),u(["logo-switch","logo-resize"]),o={width:e.outerWidth(),height:e.outerHeight(),className:e.attr("class"),style:e.attr("style")};var i=[];t.each(h.alternateLogos,(function(e,t){i.push({$el:t.$el,className:t.$el.attr("class"),style:t.$el.attr("style")})})),n(),t.each(i,(function(e,t){t.$el.attr({class:t.className,style:t.style})}))})),n.add(k.to(e,r,{css:{width:function(){return o.width},height:function(){return o.height}}})),n.add(k.to(e,s,{css:{autoAlpha:1,clearProps:"visibility,opacity"}})),n.call((function(){e.attr({class:o.className,style:o.style}),e.css({visibility:"",opacity:""}),p.getAnimationSceneIdsByTagName("logo-resize").length>0&&(S.currentLogo="default"),u(["logo-switch","logo-resize"]),p.enableAnimationScenesByTagName(["logo-switch","logo-resize"],0)}))})))}},transparentHeader:function(e){e="number"==typeof e?e:.3,S.hasOwnProperty("transparentHeaderTween")||(S.transparentHeaderTween=k.timeline({data:{className:p.className("transparent-header")}})),k.cleanTimelineQueue(S.transparentHeaderTween),S.transparentHeaderTween.add(k.emptyAnimationFrame(e,(function(){p.disableAnimationScenesByTagName("transparent-header");var n=k.timeline();t.each(p.getAnimationSceneIdsByTagName("transparent-header"),(function(o,i){var a=p.getAnimationSceneById(i),l=t(a.targets()),c=["backgroundColor","borderColor","boxShadow"],u={};t.each(c,(function(e,t){u[t]=r(l.css(t))}));var d=S.transparentHeaderTween.data.className+"-"+i,g;0===t("#"+("transparent-header-style-"+i)).length&&p.insertCSS(p.generateCSS(u,d),"transparent-header-style"),n.add(k.to(l,e,{css:u,ease:"sine.inOut",onComplete:function(){k.set(l,{css:{clearProps:c.join(",")}}),s(l,d)}}))}))})))},revertTransparentHeader:function(e){e="number"==typeof e?e:.3,S.hasOwnProperty("transparentHeaderTween")&&(k.cleanTimelineQueue(S.transparentHeaderTween),S.transparentHeaderTween.add(k.emptyAnimationFrame(e,(function(){var n=k.timeline();t.each(p.getAnimationSceneIdsByTagName("transparent-header"),(function(o,i){var a=p.getAnimationSceneById(i),r=t(a.targets()),s=S.transparentHeaderTween.data.className+"-"+i,c=d(r);l(r,s),u("transparent-header");var g=["backgroundColor","borderColor","boxShadow"],f={};t.each(g,(function(e,t){f[t]=r.css(t)})),c(),n.add(k.to(r,e,{css:f,ease:"sine.inOut",onComplete:function(){k.set(r,{css:{clearProps:g.join(",")}}),l(r,s)}}))})),n.add((function(){u("transparent-header"),p.enableAnimationScenesByTagName("transparent-header",0)}))}))))},setupMenuSkinsOnStickyMode:function(){m.other.menuSkin&&(y.menuSkinChange=p.addScene({offset:m.animationOffset+p.getHeight()/2,duration:0},"Menu skin change",350),y.menuSkinChange.on("enter leave",(function(e){"enter"===e.type?p.toggleMenuSkin("add",m.other.menuSkin):p.toggleMenuSkin("remove",m.other.menuSkin)})))},toggleMenuSkin:function(e,n){var o=function(e){return"."+e},i=["menu-skin-main","menu-skin-dark","menu-skin-light"],a=i.map(o),r;v.$container.find(a.join(",")).each((function(o,a){var r=t(a);if(!a.hasOwnProperty("_currentSkin")){var s="";t.each(i,(function(e,t){if(r.hasClass(t))return s=t,!1})),a._currentSkin=s}var l=a._currentSkin,c=n,u=i.join(" ");"restore-previous"===e?a.hasOwnProperty("_previousSkin")&&r.removeClass(u).addClass(a._previousSkin):("remove"===e&&(c=l,u=n),t.each(i,(function(e,t){r.hasClass(t)&&(a._previousSkin=t)})),r.removeClass(u).addClass(c))}))}},new g(e)}var t=jQuery,n=window;const o={update(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){let e=!1;const t=Object.defineProperty({},"passive",{get(){e=!0}}),n=()=>{};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),o.hasSupport=e}}};o.update(),jQuery(document).on("kaliumready",(function(){var t=Kalium.getVar("stickyHeaderOptions");t instanceof Object&&(Kalium.Header.Sticky=new e(t))})),jQuery(document).on("kaliumready",(function(){var e=Kalium.Header.hasOwnProperty("Sticky")?Kalium.Header.Sticky:null,i=Kalium.getVar("logoSwitchOnSections"),a=["menu-skin-main","menu-skin-dark","menu-skin-light"],r=new ScrollMagic.Controller,s=t(n),l=function(n,i){if(e){var l=n.section_id,c=t("#"+l),u=!!n.logo,d=n.transparent_style,g=-1!==t.inArray(n.menu_skin,a);if(c.length){var p=function(){return c.outerHeight()},f=new ScrollMagic.Scene({triggerHook:e.getTriggerHookOffset()/s.height(),triggerElement:c[0],duration:p()});f.addTo(r),f.on("enter",(function(){u&&e.switchLogo(i,.6),d&&e.transparentHeader(),g&&e.toggleMenuSkin("add",n.menu_skin)})),f.on("leave",(function(){u&&gsap.delayedCall(.1,(function(){e.revertLogoSwitch(.6)})),d&&gsap.delayedCall(.1,(function(){e.revertTransparentHeader()})),g&&e.toggleMenuSkin("restore-previous")}));var m=function(){f.duration(p())},h=!!o.hasSupport&&{passive:!0};window.addEventListener("resize",m,h)}}},c=function(n,i){if(e){var l=window.hasOwnProperty("revapi"+n.revslider)?window["revapi"+n.revslider]:null,c=null,u=!!n.logo,d=n.transparent_style,g=-1!==t.inArray(n.menu_skin,a),p=function(){u&&e.switchLogo(i,.6),d&&e.transparentHeader(),g&&e.toggleMenuSkin("add",n.menu_skin)},f=function(){u&&e.revertLogoSwitch(.8),d&&e.revertTransparentHeader(),g&&e.toggleMenuSkin("restore-previous")};if(n.slide_index&&0===(c=n.slide_index.toString().split(",").map((function(e){return parseInt(e,10)})).filter((function(e){return"number"==typeof e&&!isNaN(e)}))).length&&(c=null),l){var m=!1,h=!1,v=function(){return l.outerHeight()},y=new ScrollMagic.Scene({triggerHook:e.getTriggerHookOffset()/s.height(),triggerElement:l[0],duration:v()});y.on("enter",(function(){var e=l.revcurrentslide();m=!0,c?-1!==t.inArray(e,c)&&(p(),h=!0):p()})),y.on("leave",(function(){m=!1,h&&f()})),y.addTo(r);var S=function(){y.duration(v())},w=!!o.hasSupport&&{passive:!0};window.addEventListener("resize",S,w),c&&l.on("revolution.slide.onbeforeswap",(function(e,n){m?-1!==t.inArray(n.nextSlideIndex,c)?h||(p(),h=!0):h&&(f(),h=!1):h=!1}))}}};t.each(i,(function(n,o){var i="section-logo-"+(n+1);if(e){var a=t("<img>").attr({src:o.logo.url,width:o.logo.width,height:o.logo.height,alt:o.logo.alt});e.registerAlternateLogo(i,o.section_id,a,o.logo_width)}"section"===o.switch_type?l(o,i):"revslider"===o.switch_type&&c(o,i)}))}))}));